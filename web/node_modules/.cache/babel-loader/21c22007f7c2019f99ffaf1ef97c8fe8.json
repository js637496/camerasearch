{"ast":null,"code":"var _jsxFileName = \"/home/t420/Desktop/camerasearch1/web/src/Header.tsx\";\nimport React from 'react';\nimport { useMeQuery, useLogoutMutation } from './generated/graphql';\nimport { setAccessToken } from './accessToken';\nimport { Navbar, NavDropdown, Nav } from 'react-bootstrap';\nexport const Header = ({}) => {\n  const {\n    data,\n    loading\n  } = useMeQuery();\n  const [logout, {\n    client\n  }] = useLogoutMutation();\n  let body = null;\n\n  if (loading) {\n    body = null;\n  } else if (data && data.me) {\n    body = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 16\n      }\n    }, \"you are logged in as \", data.me.email);\n  } else {\n    body = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 16\n      }\n    }, \"not logged in\");\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    collapseOnSelect: true,\n    expand: \"lg\",\n    bg: \"dark\",\n    variant: \"dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Navbar.Brand, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"nav-link\",\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 21\n    }\n  }, \"Camera Search\")), /*#__PURE__*/React.createElement(Navbar.Toggle, {\n    \"aria-controls\": \"responsive-navbar-nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Navbar.Collapse, {\n    id: \"responsive-navbar-nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    className: \"mr-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"nav-link\",\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 25\n    }\n  }, \"Home\"), /*#__PURE__*/React.createElement(NavDropdown, {\n    title: \"Admin Tools\",\n    id: \"collasible-nav-dropdown\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(NavDropdown.Item, {\n    href: \"#action/3.1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 29\n    }\n  }, \"Register New Admin\"))), /*#__PURE__*/React.createElement(Nav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 21\n    }\n  }, !data || !data.me ? /*#__PURE__*/React.createElement(Link, {\n    className: \"nav-link\",\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 33\n    }\n  }, \"Sign In\") : null, data && data.me ? /*#__PURE__*/React.createElement(Link, {\n    className: \"nav-link\",\n    to: \"/bye\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 33\n    }\n  }, \"Account Settings\") : null, !loading && data && data.me ? /*#__PURE__*/React.createElement(\"a\", {\n    href: \"javascript:void();\",\n    className: \"nav-link\",\n    onClick: async () => {\n      await logout();\n      setAccessToken('');\n      await client.resetStore();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 33\n    }\n  }, \"Log Out\") : null))));\n};","map":{"version":3,"sources":["/home/t420/Desktop/camerasearch1/web/src/Header.tsx"],"names":["React","useMeQuery","useLogoutMutation","setAccessToken","Navbar","NavDropdown","Nav","Header","data","loading","logout","client","body","me","email","resetStore"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { useMeQuery, useLogoutMutation } from './generated/graphql';\nimport { setAccessToken } from './accessToken';\nimport { Navbar, NavDropdown, Nav } from 'react-bootstrap';\nimport { LinkContainer } from \"react-router-bootstrap\";\n\ninterface Props {\n\n}\n\nexport const Header: React.FC<Props> = ({}) => {\n\n    const { data, loading } = useMeQuery();\n    const [logout, {client}] = useLogoutMutation();\n\n    let body: any = null;\n\n    if (loading) {\n        body = null;    \n    } else if (data && data.me) {\n        body = <div>you are logged in as {data.me.email}</div>;\n    } else {\n        body = <div>not logged in</div>;\n    }  \n\n    return (\n        <div>\n            <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\">\n                <Navbar.Brand>\n                    <Link className=\"nav-link\" to=\"/\">Camera Search</Link>\n                </Navbar.Brand>\n                <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n                <Navbar.Collapse id=\"responsive-navbar-nav\">\n                    <Nav className=\"mr-auto\">\n                        <Link className=\"nav-link\" to=\"/\">Home</Link>\n                        <NavDropdown title=\"Admin Tools\" id=\"collasible-nav-dropdown\">\n                            \n                            <NavDropdown.Item href=\"#action/3.1\">Register New Admin</NavDropdown.Item>\n                        </NavDropdown>\n                    </Nav>\n                    <Nav>\n                        \n                        {\n                            (!data || !data.me) ? \n                            (\n                                <Link className=\"nav-link\" to=\"/login\">Sign In</Link>\n                            ) : \n                            null\n                        }\n\n                        {\n                            (data && data.me) ? (\n                                <Link className=\"nav-link\" to=\"/bye\">Account Settings</Link>\n                            ) : null\n                        }\n\n                        {\n                            (!loading && data && data.me) ? \n                            (\n                                <a href=\"javascript:void();\" className=\"nav-link\" onClick={async() => {\n                                    await logout();\n                                    setAccessToken('');\n                                    await client!.resetStore();\n                                }}\n                                >\n                                    Log Out\n                                </a>\n                                \n                            ) : \n                            null\n                        }\n                    </Nav>\n                </Navbar.Collapse>\n            </Navbar>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}